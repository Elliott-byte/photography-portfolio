import Image from 'next/image'
import Link from 'next/link'
import { Tab } from '@headlessui/react'
import Masonry from 'react-masonry-css'
import classNames from 'classnames'
import type { LightGallery } from 'lightgallery/lightgallery'
import LightGalleryComponent from 'lightgallery/react';

// import styles
import 'lightgallery/css/lightgallery.css';
import 'lightgallery/css/lg-zoom.css';
import 'lightgallery/css/lg-thumbnail.css';

// import plugins if you need
import lgThumbnail from 'lightgallery/plugins/thumbnail';
import lgZoom from 'lightgallery/plugins/zoom';

import bgImage from "../../public/photography-bg.jpg";
import city1 from "../../public/city-1.jpeg";
import city2 from "../../public/city-2.jpeg";
import city3 from "../../public/city-3.jpeg";
import city4 from "../../public/city-4.jpeg";
import city5 from "../../public/city-5.jpeg";
import { useRef } from 'react';

const tabs = [
  {
    key: 'all',
    display: 'All'
  },
  {
    key:'oceans',
    display:'Oceans'
  },
  {
    key: 'cities',
    display:'Cities'
  }
];
const images = [
  city1,
  city2,
  city3,
  city4,
  city5
];

export default function Home() {

  const lightboxRef = useRef<LightGallery | null>(null);

  return (
    <div className="h-full bg-top bg-cover overflow-auto">
      {/* <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head> */}
      <Image className='fixed top-0 left-0 z-0' src={bgImage} alt="backgroud-image" placeholder='blur'/>
      <div className='fixed left-0 top-0 w-full h-full z-10 from-stone-900 bg-gradient-to-t'></div>

      <header className="fixed bg-stone-900 bg-opacity-80 top-0 w-full z-20 flex justify-between items-center h-[50px] px-10">
      <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
        {/* <div className="text-transparent">hm</div> */}
        <div className='text-center'>Photography Protfolio</div>
        <Link href="#" className="rounded-3xl bg-white text-stone-900 px-3 py-2 hover:bg-opacity-90">Get in touch</Link>
      </header>
      <main className='relative pt-[60px] z-20'>
        <div className='flex flex-col items-center'>
          <Tab.Group>
          <Tab.List className="flex items-center gap-8">
            {tabs.map(tab => (
                          <Tab key={tab.key} className="p-4">
                          {({selected}) => (
                             <span className={classNames("uppercase",selected ? "text-white" : "text-stone-600")}>
                              {tab.display}
                              </span>
                          )
                          }
                        </Tab>
            ))}
          </Tab.List>
          <Tab.Panels className="h-[1700px] bg-stone-900 bg-opacity-20 max-w-[800px] w-full p-2 sm:p-4 my-6">
            <Tab.Panel >
              <Masonry breakpointCols={2} className='flex gap-2' columnClassName=''>
                {images.map((image, idx) => (
                    <Image 
                    key={image.src} 
                    src={image} 
                    className='my-4 hover:opacity-90 cursor-pointer' 
                    alt='placerholder'
                    placeholder='blur'
                    onClick={() => {
                      lightboxRef.current?.openGallery(idx);
                    }}
                    />
                ))}
              </Masonry>

              <LightGalleryComponent
                onInit={(ref)=> {
                  if (ref)
                    lightboxRef.current = ref.instance;
                }}
                speed={500}
                plugins={[lgThumbnail, lgZoom]}
                dynamic
                dynamicEl={images.map((image) => ({
                  src: image.src,
                  thumb: image.src
                }))}
            />
            </Tab.Panel>
            <Tab.Panel>Content 2</Tab.Panel>
            <Tab.Panel>Content 3</Tab.Panel>
          </Tab.Panels>
        </Tab.Group>
      </div>
      </main>
      <footer className='relative h-[60px] flex justify-center uppercase text-lg font-medium z-20'>
        Photography Protfolio
      </footer>
    </div>
  )
}
